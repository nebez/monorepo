a_warning: This file is auto-generated! Please don't make changes here. See the .circleci/src/@main.yml
  file instead for instructions on updating.
jobs:
  data-collector:
    docker:
    - image: cimg/base:2020.01
    steps:
    - checkout:
        path: ~/project
    - run:
        command: sleep 10
        name: Build
    working_directory: ~/project/apps/data-collector
  failing_job:
    docker:
    - image: cimg/base:2020.01
    steps:
    - run: exit 1
    working_directory: ~/project/apps/nebez
  main:
    docker:
    - image: cimg/base:2020.05
    steps:
    - checkout
    - run:
        command: curl -fLSs https://raw.githubusercontent.com/CircleCI-Public/circleci-cli/master/install.sh
          | sudo DESTDIR=/bin/circleci bash
        name: Update CircleCI CLI tool
        shell: /bin/bash
    - run:
        command: .circleci/scripts/core/validate-config.sh
        name: Validate CircleCI config
        shell: /bin/bash
    - run:
        command: .circleci/scripts/core/build.sh
        name: Trigger build for modified projects
        shell: /bin/bash
  nebez:
    docker:
    - image: cimg/base:2020.01
    steps:
    - checkout:
        path: ~/project
    - setup_remote_docker
    - run:
        command: docker build -t hello-world-nebez .
        name: Build
    working_directory: ~/project/apps/nebez
parameters:
  trigger_data-collector:
    default: false
    type: boolean
  trigger_main:
    default: true
    type: boolean
  trigger_nebez:
    default: false
    type: boolean
version: 2.1
workflows:
  data-collector:
    jobs:
    - data-collector
    when: << pipeline.parameters.trigger_data-collector >>
  main:
    jobs:
    - main
    when: << pipeline.parameters.trigger_main >>
  nebez:
    jobs:
    - nebez
    when: << pipeline.parameters.trigger_nebez >>
  version: 2

